# vi/vim 文本编辑器

vi/vim 是 visual interface 的简称，是 Linux 中最经典的文件编辑器。

> vim 是 vi 的加强版本，兼容 vi 的所有指令，不仅能够编辑文本，而且还具有 shell 程序编辑的功能，可以不同颜色字体辨别语法的正确性，极大方便了程序的设计和编辑性。

## vi/vim 编辑器三种工作模式

- **命令模式（Command Mode）**

  此命令模式下，所敲的按键编辑器都理解为命令，以命令驱动执行不同的功能呢。此模式下，不能自由进行文本编辑。

- **输入模式（Insert Mode）**

  也就是所谓编辑模式、插入模式，此模式下，可以对文本内容进行自由编辑。

- **底线模式（Last Line Mode）**

  以 `:` 开始，通常用于文件的保存、退出等操作；

![vim-mode](../images/vim-mode.jpg)

## 命令模式

| 命令        | 描述                                |
| ----------- | ----------------------------------- |
| 0           | 移动光标到当前行行首                |
| $           | 移动光标到当前行行尾                |
| gg          | 移动光标到当前文件的第一行          |
| GG          | 移动光标到当前文件的最后一行        |
| H           | 移动光标到屏幕的第一行              |
| M           | 移动光标到屏幕的中间一行            |
| L           | 移动光标到屏幕的最后一行            |
| CTRL+f/PgUp | 向前滚动一页                        |
| CTRL+b/PgDn | 向后滚动一页                        |
| nG          | 移动光标到当前文件的第 n 行         |
| /           | 进入搜索模式                        |
| n           | 向下继续搜索                        |
| n           | 向上继续搜索                        |
| i           | 在当前光标位置，进入*输入模式*`     |
| a           | 在当前光标位置之后，进入*输入模式*  |
| I           | 在当前行的开头，进入*输入模式*      |
| A           | 在当前行的结尾，进入*输入模式*      |
| o           | 在当前光标下一行，进入*输入模式*    |
| O           | 在当前光标上一行，进入*输入模式*    |
| dd          | 删除光标所在行的内容                |
| ndd         | n 是数字，表示删除当前光标向下 n 行 |
| yy          | 复制当前行                          |
| nyy         | n 是数字，复制当前行和下面 n 行     |
| p           | 粘贴复制内容                        |
| u           | 撤销修改                            |
| CTRL+r      | 反向撤销修改                        |
| dG          | 从当前行开始，向下全部删除          |
| dgg         | 从当前行开始，向上全部删除          |
| d$          | 从当前光标开始，删除到本行的结尾    |
| d0          | 从当前光标开始，删除到本行的开头    |
| ESC         | _退出输入模式_，回到命令模式        |

## 底线命令模式

| 命令       | 描述                        |
| ---------- | --------------------------- |
| :w         | 仅保存                      |
| :q         | 仅推出                      |
| :wq        | 保存并退出                  |
| :q!        | 强制退出                    |
| :set nu    | 显示行数                    |
| :n         | 移动光标到当前文件的第 n 行 |
| :set paste | 设置粘贴模式                |
